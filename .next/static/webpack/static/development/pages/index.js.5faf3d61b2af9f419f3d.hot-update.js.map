{"version":3,"file":"static/webpack/static/development/pages/index.js.5faf3d61b2af9f419f3d.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Layout from '../components/Layout';\nimport web3 from '../libs/web3';\n\nconst styles = (theme) =>({\n  root: {\n    textAlign: 'center',\n    paddingTop: theme.spacing.uint*20,\n  },\n});\n/**\n * The Index page render\n */\nclass Index extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      accounts:[],\n    };\n  }\n\n  //init we3 provider before mount\n  async componentDidMount(){\n    const accounts = await web3.eth.getAccounts();\n    const balances = await Promise.all(accounts.map(x=>web3.eth.getBalance(x)));\n    console.log(accounts);\n\n    this.setState({ accounts: accounts.map((x, i) => ({ account: x, balance: balances[i] })) });\n  };\n\n  // eslint-disable-next-line require-jsdoc\n  render() {\n    const {classes} = this.props;\n    const {accounts} = this.state;\n\n    return (\n      <div className={classes.root}>\n        <Layout>\n        <ul>\n           {accounts.map(x => (\n             <li key={x.account}>\n+              {x.account} => {web3.utils.fromWei(x.balance, 'ether')} ETH\n             </li>\n           ))}\n         </ul>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nIndex.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Index);\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AADA;AAAA;AAMA;;;;;AAGA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AADA;AAHA;AAMA;AACA;AACA;;;;;;;;;;;;;AAEA;AACA;;AADA;;AACA;AAAA;AAAA;AACA;;AADA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;AAEA;AACA;AAAA;AAAA;AAIA;AACA;AAAA;AAGA;AACA;AAAA;AADA;AASA;;;;AApCA;AACA;AAsCA;AACA;AADA;AAIA;;;;A","sourceRoot":""}